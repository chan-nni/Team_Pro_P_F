<!DOCTYPE html>
<html lang="en">

<head></head>

<body>
<div th:replace="fragments/header :: headerFragment"></div>
<div th:include="fragments/nav.html"></div>

<main id="main">

  <!-- ======= About Us Section ======= -->
  <section class="breadcrumbs">
    <div class="container">

      <div class="d-flex justify-content-between align-items-center">
        <ol>
          <li><a href="#">공고</a></li>
          <li><a href="#">게시물</a></li>
        </ol>
        <ol>
          <li><a href="../home/index.html">Home</a></li>
          <li>Scrap</li>
        </ol>
      </div>

    </div>
  </section><!-- End About Us Section -->

  <!-- ======= About Section ======= -->
  <section class="about" data-aos="fade-up">
    <div class="container">

      <table class="ui celled  table">
        <thead>
        <tr>
          <th>공고명</th>
          <th>채용형태</th>
          <th>기업명</th>
          <th>근무지역</th>
          <th>시작일</th>
          <th>마감일</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="scrap : ${scraps}">
          <td>
            <a th:href="@{/job_de(id=${scrap.job.seq})}" th:text="${scrap.job.title}"></a>
          </td>
          <td th:text="${scrap.job.employ.getDisplayName()}">경력 </td>
          <td th:text="${scrap.job.company.companyname}">카카오</td>
          <td th:text="${scrap.job.area.getDisplayName()}">서울</td>
          <td th:text="${scrap.job.startdate}">~ 4/30</td>
          <td th:text="${scrap.job.enddate}">~ 4/30</td>
          <td>
            <form th:action="@{/scrapCancel}" th:object="${scrap}" method="post">
              <input type="hidden" name="seq" th:value="${scrap.seq}" />
              <button type="submit">스크랩 취소</button>
            </form>
          </td>
        </tr>
        </tbody>
      </table>

    </div>

    <div class="pagination" th:if="${totalPages > 1}">
      <ul>
        <li th:class="${currentPage == 0} ? 'disabled' : ''">
          <a th:href="@{${'/scrap?page=' + (currentPage - 1)}}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li th:each="pageNum : ${#numbers.sequence(0, totalPages - 1)}" th:class="${currentPage == pageNum} ? 'active' : ''">
          <a th:href="@{${'/scrap?page=' + pageNum}}" th:text="${pageNum + 1}"></a>
        </li>
        <li th:class="${currentPage == totalPages - 1} ? 'disabled' : ''">
          <a th:href="@{${'/scrap?page=' + (currentPage + 1)}}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </div>

  </section>
</main>

<!-- ======= Footer ======= -->
<div th:replace="fragments/footer :: footerFragment"></div>



</body>
<script th:if="${message != null and message ne ''}" th:inline="javascript">
  alert([[${message}]]);  // 에러 메시지가 존재하고 비어있지 않을 경우 경고창을 띄움
</script>

</section>
</html>